---
title: GBADS - Livestock Value 
output: github_document
bibliography: references.bib
csl: https://raw.githubusercontent.com/citation-style-language/styles/master/chicago-fullnote-bibliography.csl
link-citations: yes
suppress-bibliography: yes
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)

source(here::here('R', 'utils', 'FAOSTAT_helper_functions.R'))
```

```{r echo=FALSE, results="hide", message=FALSE}
library("badger")
library(here)
library(report)
library(knitr)
``` 

```{r, echo = FALSE, results='asis'}
cat(
    badge_license('CC BY-SA 4.0'), 
	badge_lifecycle('experimental')
)
```



 # Description
 
 This repository contains all R code and data for the *GBADS* global livestock 
 value estimation manuscript. 

## Files 
```{bash, echo=FALSE}
git ls-tree -r HEAD --name-only|grep  -v '^\.'
```
 
 
 
 # Data 
 
 ## Version Control 
 
 Currently the data contained in this repository is tracked using the 
 tool [dvc](https://dvc.org/). 
 
 ### Aquaculture (@FAO2021e)
 
 * Conversions to liveweights are done using country specific numbers. 
 
 
```{r, echo=FALSE}
aqua_values  <- arrow::read_parquet(
  get_gbads_file('FAO_Global_Aquaculture_Production', dir = here::here('data', 'output', 'FAO')), 
  as_data_frame = FALSE
)

kable(as.data.frame(aqua_values$metadata), caption = 'Table: Metadata')
```

```{r, echo=FALSE}
aqua_report <- report(aqua_values %>% dplyr::collect(), digits = 2)
aqua_report
```

```{r, echo=FALSE}
kable(as.data.frame(aqua_report))
```
 

 
 
 ### FAOSTAT 
 
 
 #### Crop Production and Values @FAO2021d
 
```{r, echo=FALSE}
crop_values  <- arrow::read_parquet(
  get_gbads_file('FAOSTAT_Crop_Values', dir = here::here('data', 'output', 'FAOSTAT')), 
  as_data_frame = FALSE
)


kable(as.data.frame(crop_values$metadata))
```

```{r, echo=FALSE}
crop_report <- report(crop_values %>% dplyr::collect(), digits = 2)
crop_report
```

```{r, echo=FALSE}
kable(as.data.frame(crop_report))
```

#### Livestock Production and Values  (@FAO2021d)

```{r, echo=FALSE}
livestock_values  <- arrow::read_parquet(
  get_gbads_file('FAOSTAT_Livestock_Values', dir = here::here('data', 'output', 'FAOSTAT')), 
  as_data_frame = FALSE
)


kable(as.data.frame(livestock_values$metadata))
```

```{r, echo=FALSE}
livestock_report <- report(livestock_values %>% dplyr::collect(), digits = 2)
livestock_report
```

```{r, echo=FALSE}
kable(as.data.frame(livestock_report))
```

 
# Methods

<!--- Add diagrams of the workflow ---> 
 
## Aquaculture




 
## Crops 


 
 
## Livestock 
 
 
# Results
 
 <!--- Add automated results to this section --->
 
## Tables  

```{r, echo=FALSE, results='asis'}
tables <- Sys.glob(here::here('output', 'tables', 'tab_*.png'))

for (table in tables) {
  cat(
    '![](', trimws(table), ')\n\n\n\n', sep = ''
  )
}

```



## Figures  

```{r, echo=FALSE, results='asis'}

figures <- Sys.glob(here::here('output', 'figures', '*.png'))

for (figure in figures) {
  cat(
    '![](', trimws(figure), ')\n\n\n\n', sep = ''
  )
}

```



# R Package References

```{r, echo=FALSE, include=FALSE, message=FALSE, error=FALSE, warning=FALSE}
# Attach all packages in lockfile
sapply(unique(renv::dependencies()$Package), 
       require, character.only = TRUE)
```


```{r, results='asis', echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
report::cite_packages(sessionInfo())
```


 
# References

<div id="refs"></div>
