---
title: GBADS - Livestock Value 
output: 
        github_document:
            toc: true 
bibliography: references.bib
csl: cambridge-university-press-numeric.csl
link-citations: true
nocite: '@*'
suppress-bibliography: false
html_preview: false
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

```{r echo=FALSE, results="hide", message=FALSE}
suppressPackageStartupMessages({
  library(badger)
  library(here)
  library(knitr)
  library(report)
})
``` 

```{r, echo = FALSE, results='asis'}
cat(
  badge_license("CC BY-SA 4.0"),
  badge_lifecycle("experimental")
)
```



# Description
 
This repository contains all `R` code and output data for the
[*GBADS*](https://animalhealthmetrics.org/) Global Livestock value estimation
manuscript. This manuscript attempts to produce an estimate of the total
economic value of farmed livestock and aquaculture based on
[*FAOSTAT*](https://www.fao.org/faostat/en/) production data.
 

# Installation 

To install this package run the following code 

```{r eval=FALSE}

if (!require(remotes)) {
  install.packages("remotes")
}

remotes::install_github(
  repo = "GBADsInformatics/PPSTheme",
  ref = "livestock-value"
)
```
although the base package is currently named `LivestockValueGBADS`.


***Note:*** In the future the location of where this code is stored will no 
doubt change. 

 
# Repository Structure 

This repository is structured similar to an R package, however, there are
minimal differences which make this package non-conforming to certain standards.

## Make

The `R` directory contains any common functions which are used across the entire
project. The `inst` directory contains `R` scripts which are intended to be run
via the GNU `Makefile` which specifies the required processes to build each
target. Targets are run using the syntax

```{bash, eval = FALSE}
make name-of-file-to-make
```

Currently, not all the dependencies for the targets which download data are
specified in subsequent targets, due to some side effects of the download
process,  however, all files in the `data/processed` and `data/output`
directories should be targets which can be recreated by the project  `Makefile`. 


Project locations and directory structure are outlined in the project
configuration file `conf/config.yml`, in accessing these parameters in code is
managed by the `R` package `config`. The location of the configuration file can
be modified, however, if this is done, then one must also modify the environment
variable `R_CONFIG_FILE` to match this new location.
 
Environment and package management is done using `renv`, `renv.lock` specifies
the hashes for each package used.  Package imports are also listed in the
package `DESCRIPTION` file.

## Data 


Currently the processed and output data is located in `data/processed/` and
`data/output`. Source data is located in `data/source` and is not included in
this repository due to its size. Data was originally tracked using
[***DVC***](https://dvc.org/) but has been removed due to issues with the cloud
storage configuration. The versions of the source data which was downloaded for
this project is backed up on a internal *CSIRO* cloud storage platform.


Output data is primarily stored in `parquet` files in the `data/output` directory.

*(Note: These locations are specified in the project configuration yaml file)*

## Figures and Tables 

Output figures and tables are located in `output/figures/`, `output/tables/`. 

*(Note: This is specified in the project configuration yaml file)*

## Codes 

FAOSTAT item codes and country codes are located in `data/codes`. 

*(Note: This is specified in the project configuration yaml file)*

##  Documentation

[pkgdown](https://pkgdown.r-lib.org/) Documentation is available in the in the
`docs/` directory and can be accessed locally.
 
 
# Licence 
 
This project is under a creative commons licence.


# R Package References

```{r, echo=FALSE, include=FALSE, message=FALSE, error=FALSE, warning=FALSE}
# Attach all packages in lockfile
sapply(unique(renv::dependencies()$Package),
  library,
  character.only = TRUE
)
```


```{r, results='asis', echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
report::cite_packages(sessionInfo())
```

# References
